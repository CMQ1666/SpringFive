<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>后台首页</title>
    <!-- 引入样式 -->
    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript" src="../js/axios.min.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->

    <style>
        .el-header {
            background-color: #10417b;
            color: #ffffff;
            line-height: 60px;
        }
        .el-aside {
            color:#7B2927;
        }


   </style>
</head>
<body>
    <div id="app">
        <el-container style="height: 500px; border: 1px solid #eee">
            <!--头部-->
            <el-header style="text-align: right; width: 100%; font-size: 17px">
                <el-dropdown>
                    <i class="el-icon-setting" style="margin-right: 15px"></i>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>查看</el-dropdown-item>
                        <el-dropdown-item><a href="/user/toLogin">退出</a></el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
                <span>超级管理员</span>
            </el-header>

            <!--导航栏右边的内容-->
            <el-container>

                <!--导航栏,权限树-->
                <el-aside width="200px" >
                    <el-tree :default-expand-all="false"  :icon-class="icon" :highlight-current="true" :data="treeData"  :props="defaultProps" :accordion="true" @node-click="handleNodeClick">
                    </el-tree>
                </el-aside>

                <el-main>

                </el-main>
            </el-container>
        </el-container>
    </div>
    <script>



        var app = new Vue({
            el:'#app',
            data:{
                treeData:[],
                defaultProps: {
                    children: 'children',
                    label: 'label'
                }
            },
            methods:{
                handleNodeClick:function(data) {
                    console.log(data);
                    //alert(JSON.stringify(data))
                },
                handleOpen:function(key, keyPath) {
                    console.log(key, keyPath);
                },
                handleClose:function(key, keyPath) {
                    console.log(key, keyPath);
                }
                // 这时改为 switch 语句更好
            },
            created:function(){
                //axios中不能直接用this 所以要定义var it =this
                var it = this;
                axios.post("/power/tree").then(function (response) {
                    // alert(JSON.stringify(response.data));
                    it.treeData = response.data;
                });

            }


        })


    </script>

</body>
</html>